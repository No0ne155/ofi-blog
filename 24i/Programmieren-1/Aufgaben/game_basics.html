<!doctype html>
<html class="docs-version-24i" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.6">
<script src="https://raw.githack.com/brython-dev/brython/master/www/src/brython.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://raw.githack.com/brython-dev/brython/master/www/src/brython_stdlib.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://raw.githack.com/lebalz/ofi-blog/main/static/js/cowsay.brython.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/katex.min.css" integrity="sha384-Um5gpz1odJg5Z4HAmzPtgZKdTBHZdw8S29IecapCSB31ligYPhHQZMIlWLYQGVoc" crossorigin="anonymous"><title data-react-helmet="true">Game Basics - Sterne Fangen | OF Informatik</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://lebalz.github.io/24i/Programmieren-1/Aufgaben/game_basics"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="24i"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-24i"><meta data-react-helmet="true" property="og:title" content="Game Basics - Sterne Fangen | OF Informatik"><meta data-react-helmet="true" name="description" content="Die Funktionalität der mit einem \* markierten Abschnitte sollten in Eurem Spiel enthalten sein."><meta data-react-helmet="true" property="og:description" content="Die Funktionalität der mit einem \* markierten Abschnitte sollten in Eurem Spiel enthalten sein."><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://lebalz.github.io/24i/Programmieren-1/Aufgaben/game_basics"><link data-react-helmet="true" rel="alternate" href="https://lebalz.github.io/24i/Programmieren-1/Aufgaben/game_basics" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://lebalz.github.io/24i/Programmieren-1/Aufgaben/game_basics" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.57a00a4b.css">
<link rel="preload" href="/assets/js/runtime~main.5febb047.js" as="script">
<link rel="preload" href="/assets/js/main.2b8b88fd.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/logo.png" alt="Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo.png" alt="Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">Informatik</b></a><a class="navbar__item navbar__link" href="/playground">Playground</a></div><div class="navbar__items navbar__items--right"><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">🌞</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/24i/home">24i</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">BYOD Basics</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Software</a></li><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Programmieren-1</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">Aufgaben</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/24i/Programmieren-1/Aufgaben/turtles">Turtle Graphics</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/24i/Programmieren-1/Aufgaben/smartphone_rainbow">Regenbogen Display</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/24i/Programmieren-1/Aufgaben/io">Ein- und Ausgabe: Aufgabe</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/24i/Programmieren-1/Aufgaben/gruefnisch">Grüfnisch</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/24i/Programmieren-1/Aufgaben/functions">Funktionen</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/24i/Programmieren-1/Aufgaben/zufalls_zahl">Zufallszahl</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/24i/Programmieren-1/Aufgaben/grid">Sieb des Eratosthenes</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/24i/Programmieren-1/Aufgaben/name">Name</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/24i/Programmieren-1/Aufgaben/modulo">Modulo</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/24i/Programmieren-1/Aufgaben/uhren">Uhren</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/24i/Programmieren-1/Aufgaben/game_basics">Game Basics - Sterne Fangen</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/24i/Programmieren-1/Aufgaben/game_runner">Game-Runner</a></li></ul></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Turtles</a></li></ul></li><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist" href="#">Netzwerke</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Schichtenmodell</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Codierung</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Routing</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">DNS</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Begriffe</a></li></ul></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Präsentationen</a></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_1CGd"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_3E-R"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><span class="theme-doc-version-badge badge badge--secondary">Version: 24i</span><div class="tocCollapsible_1PrD theme-doc-toc-mobile tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Game Basics - Sterne Fangen</h1></header><p><img src="/assets/images/game_basics-33f332dca8e6dc93b02bc4bbe7b810d3.gif"></p><p>Die Funktionalität der mit einem * markierten Abschnitte sollten in Eurem Spiel enthalten sein.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="0-vorbereitung-"></a>0. Vorbereitung *<a class="hash-link" href="#0-vorbereitung-" title="Direct link to heading">#</a></h2><p>Auf OneDrive einen neuen Ordner <code>12_game</code> erstellen und diesen in VS Code öffnen. Dort ein neues Programm erstellen, bspw. mit dem Namen <code>01_game.py</code></p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="1-spieler-"></a>1. Spieler *<a class="hash-link" href="#1-spieler-" title="Direct link to heading">#</a></h2><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Schritt 0</li><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">Schritt 1</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Schritt 2</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Schritt 3</li></ul><div class="margin-vert--md"><div role="tabpanel" hidden=""><p>Das erste Spiel startet mit der bekannten Ausgangslage.</p><ul><li><strong>wichtig</strong>: DeviceId so anpassen, dass sie mit derjenigen auf der Website <a href="https://io.gbsl.website" target="_blank" rel="noopener noreferrer">https://io.gbsl.website</a> übereinstimmt.</li></ul><p><strong>Code laufen lassen und schauen ob alles funktioniert</strong></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly py"><pre tabindex="0" class="prism-code language-py codeBlock_23N8 thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">from</span><span class="token plain"> smartphone_connector </span><span class="token keyword" style="color:rgb(0, 0, 255)">import</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">device </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> Connector</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;https://io.gbsl.website&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;FooBar&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">device</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">configure_playground</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    width</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">100</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    height</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">180</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    origin_x</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">50</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    origin_y</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    color</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">Colors</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">BLACK</span></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)"># der weitere Code wird hier eingefügt...</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#000000"><span class="token plain">device</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">disconnect</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><div role="tabpanel"><p>Damit bei Änderungen der aktuelle Playground zuerst aufgeräumt wird, sollte dieser vor dem Konfigurieren gelöscht werden:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly py"><pre tabindex="0" class="prism-code language-py codeBlock_23N8 thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#000000"><span class="token plain">device </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> Connector</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;https://io.gbsl.website&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;FooBar&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#000000"><span class="token plain">device</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">clear_playground</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#000000"><span class="token plain">device</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">configure_playground</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    width</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">100</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    height</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">180</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    origin_x</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">50</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    origin_y</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    color</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">Colors</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">BLACK</span></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><p>Nun wird ein Spieler hinzugefügt - ein Balken welcher später durch Kippen des Smartphones bewegt werden soll.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly py"><pre tabindex="0" class="prism-code language-py codeBlock_23N8 thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#000000"><span class="token plain">device</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">add_rectangle</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    width</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    height</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    color</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">Colors</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">WHITE</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    pos_x</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    pos_y</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><p>Die Position stimmt noch nicht - der Balken soll zentral unten in der Mitte positioniert sein. Über den <strong>Parameter</strong> <code>anchor</code> kann bestimmt werden, welcher Punkt im Rechteck positioniert wird.</p><ul><li><code>[0, 0]</code> bedeutet unten links,</li><li><code>[1, 1]</code> oben rechts...</li><li>Was bewirkt der untenstehende Wert für <code>anchor</code>?</li></ul><p>Vorerst reicht diese Vorbereitung aus, im Abschnitt &quot;Steuerung&quot; wird die Kontrolle des Rechtecks vorgenommen. Zuerst aber wirds etwas bunt - wir lassen Sterne vom Himmel fallen 🌟</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly py"><pre tabindex="0" class="prism-code language-py codeBlock_23N8 thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#000000"><span class="token plain">device</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">add_rectangle</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    width</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    height</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    color</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">Colors</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">WHITE</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    pos_x</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    pos_y</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    anchor</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token number" style="color:rgb(9, 134, 88)">0.5</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div></div></div><hr><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="2-sterne-"></a>2. Sterne *<a class="hash-link" href="#2-sterne-" title="Direct link to heading">#</a></h2><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Schritt 0</li><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">Schritt 1</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Schritt 2</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Schritt 3</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Schritt 4</li></ul><div class="margin-vert--md"><div role="tabpanel" hidden=""><p>Der Stern wird als Text-Zeichen <code>★</code> mitgegeben. Damit nur der Stern angezeigt wird, werden keine <code>color</code> oder <code>border_color</code> Parameter übergeben.</p><p>Der Stern soll vom oberen Rand des Bildschirms nach unten fallen. Wie?</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly py"><pre tabindex="0" class="prism-code language-py codeBlock_23N8 thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#000000"><span class="token plain">device</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">add_circle</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    text</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;★&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    font_color</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">Colors</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">GOLD</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    font_size</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    pos_x</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    pos_y</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">180</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    radius</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">3</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><div role="tabpanel"><p>... der Stern bekommt eine Richtung, in welche er sich mit der Geschwindigkeit <code>4</code> bewegen soll.</p><p>Nächster Schritt: regelmässig neue Sterne erzeugen</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly py"><pre tabindex="0" class="prism-code language-py codeBlock_23N8 thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#000000"><span class="token plain">device</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">add_circle</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    text</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;★&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    font_color</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">Colors</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">GOLD</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    font_size</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    pos_x</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    pos_y</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">180</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    radius</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">3</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    direction</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">-</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    speed</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">4</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><p>Um regelmässig neue Sterne zu erzeugen, kann die Bibliothek <code>smartphone_connector</code> angewiesen werden, regelmässig eine von uns definierte Funktion auszuführen. Dies geschieht über die Methode <code>device.subscriby_async</code>. Das <code>async</code> steht für &quot;Asynchron&quot; und bedeutet, dass parallel zum regelmässigen Aufrufen unserer Funktion weitergearbeitet werden kann.</p><p>Unten wird eine neue Funktion erstellt. Diese soll nun alle <code>2</code> Sekunden ausgeführt werden.</p><p><strong>Aufgabe</strong>: Verwende bei deinem Skript einen passenden, deutschen Funktionsnamen.</p><p>(<em>Hinweis</em>: Das Programm erzeugt zwar keinen Fehler, aber es werden noch keine Sterne hinzugefügt 😢. Wieso? ▶️)</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly py"><pre tabindex="0" class="prism-code language-py codeBlock_23N8 thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">add_star</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    device</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">add_circle</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">        text</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;★&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">        font_color</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">Colors</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">GOLD</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">        font_size</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">        pos_x</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">        pos_y</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">180</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">        radius</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">3</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">        direction</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">-</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">        speed</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">4</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#000000"><span class="token plain">device</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">subscribe_async</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">add_star</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><p>Wir erleben die direkten Konsequenzen davon, dass <code>device.subscriby_async</code> asynchron läuft! Obwohl die Aufgabe (nämlich alle <code>2</code> Sekunden einen Stern hinzuzufügen) abgeschlossen ist, wird mit der nächsten Zeile weitergefahren.</p><p>Und auf der letzten Zeile steht <code>device.disconnect()</code> - also die Verbindung wird abgebrochen. Besser sollte dort gewartet werden, bis das Programm vom Benutzer gestoppt wird (mit dem 🗑️-Symbol).</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly py"><pre tabindex="0" class="prism-code language-py codeBlock_23N8 thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">add_star</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    device</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">add_circle</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">        text</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;★&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">        font_color</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">Colors</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">GOLD</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">        font_size</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">        pos_x</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">        pos_y</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">180</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">        radius</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">3</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">        direction</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">-</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">        speed</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">4</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#000000"><span class="token plain">device</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">subscribe_async</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">add_star</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#000000"><span class="token plain">device</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">wait</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><p>Yeah 🎊 🌟 🤩</p><p>Weiteres Vorgehen:</p><ul><li>Die Start-Position der Sterne <strong>zufällig</strong> über die ganze Playground-Breite verteilen.</li><li>Zufällige Farben für die Schriftfarbe verwenden</li><li>(evtl. zufällige Grössen der Sterne?)</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly py"><pre tabindex="0" class="prism-code language-py codeBlock_23N8 thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">from</span><span class="token plain"> random </span><span class="token keyword" style="color:rgb(0, 0, 255)">import</span><span class="token plain"> randint</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div></div></div><hr><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="3-controller-"></a>3. Controller *<a class="hash-link" href="#3-controller-" title="Direct link to heading">#</a></h2><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Schritt 0</li><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">Schritt 1</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Schritt 2</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Schritt 3</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Schritt 4</li></ul><div class="margin-vert--md"><div role="tabpanel" hidden=""><p><strong>Achtung!!</strong>: Für die Kontrolle werden die Beschleunigungssensoren des Smartphones ausgelesen. Deshalb sollte für diesen Schritt jeweils auf dem Smartphone <a href="https://io.gbsl.website/playground" target="_blank" rel="noopener noreferrer">https://io.gbsl.website</a> aufgerufen werden und die Option <em>&quot;Stream Acceleration&quot;</em> angeschaltet werden.</p><p>Nun soll das Rechteck kontrollierbar werden. Dazu schreiben wir eine ähnliche Logik wie beim interaktiven Zeichnen mit den Turtles. Auch hier starten wir wieder eine asynchrone Subscription.</p><p>Vorerst wird nur das Grundgerüst erstellt, die Funktion tut aktuell aber noch nichts.</p><p><strong>Wichtig</strong> Der eingefügte Code muss oberhalb von <code>device.wait()</code> eingefügt werden.</p><p><strong>Aufgabe</strong>:</p><ul><li>Überprüfe ob beim Starten des Programms im Terminal in hoher Frequenz &quot;Controller Update&quot; ausgegeben wird.</li><li>Verwende einen deutschen Funktionsnamen für die Update Funktion.</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly py"><pre tabindex="0" class="prism-code language-py codeBlock_23N8 thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">on_update</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">print</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;Controller Update&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#000000"><span class="token plain">device</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">subscribe_async</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">on_update</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">0.05</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#000000"><span class="token plain">device</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">wait</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><div role="tabpanel"><p>Um zu wissen, in welche Richtung das Rechteck verschoben werden soll, müssen wir irgendwie an die aktuellen Sensor-Daten unseres Smartphones rankommen.</p><p>Der beim <code>subscribe_async</code> angegebenen Funktion (hier <code>on_update</code>) werden optional die aktuellen Daten des Smartphones übergeben. Damit das Autovervollständigung im Editor richtig funktioniert, wird beim Parameter <code>data</code> nach einem Doppelpunkt der Typ angegeben.</p><p>Nun können auf die Beschleunigungswerte zugegriffen werden.</p><p><strong>Aufgabe</strong>:</p><ul><li>Überprüfe, ob sich die Werte im Terminal ändern, wenn das Smartphone bewegt wird.</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly py"><pre tabindex="0" class="prism-code language-py codeBlock_23N8 thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">on_update</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">data</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> DataFrame</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">print</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;acceleration x&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> data</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">acceleration</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">x</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#000000"><span class="token plain">device</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">subscribe_async</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">on_update</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">0.05</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#000000"><span class="token plain">device</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">wait</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><p>Um die Position des Rechtecks zu aktualisieren, muss bekannt sein, welches der vielen Objekte auf dem Bildschirm aktualisiert werden soll. Jedes dieser Objekte hat eine eindeutige (zufällig generierte) <code>id</code>. Wir können diese Identifikation aber auch selber beim Erstellen des Rechtecks vergeben, so dass wir dieses Objekt kennen.</p><p>Funktioniert die Steuerung schon wunschgemäss? Können beide Ränder erreicht werden?</p><p><strong>Achtung!</strong>: der weisse Balken für den Spieler wurde bereits hinzugefügt (im Programm suchen wo...) - nun muss lediglich die <code>id</code> hinzugefügt werden.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly py"><pre tabindex="0" class="prism-code language-py codeBlock_23N8 thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#000000"><span class="token plain">device</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">add_rectangle</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token builtin" style="color:rgb(0, 112, 193)">id</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;player&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    width</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    height</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    color</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">Colors</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">WHITE</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    pos_x</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    pos_y</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">on_update</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">data</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> DataFrame</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    pos_x </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> data</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">acceleration</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">x</span></span><span class="token-line" style="color:#000000"><span class="token plain">    device</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">update_rectangle</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token builtin" style="color:rgb(0, 112, 193)">id</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;player&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">        pos_x</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">pos_x</span></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><p>Um die Steuerung brauchbar zu machen, muss die aktuelle Position des Rechtecks zwischengespeichert werden - und zwar ausserhalb der Funktion <code>on_update</code>, damit sie nicht ständig auf den Ausgangswert zurückgesetzt wird.</p><p>Nun gibt es aber eine Art verspiegelte Scheibe zwischen eingerückten- und nicht eingerückten Code-Teilen:</p><p><img alt="scopes" src="/assets/images/scopes-1e2380e2f76bfb7902d76dc4b94c36c5.png"></p><p>Diese verspiegelte Scheibe verhindert zudem, dass von Innerhalb eine Variable von Ausserhalb geändert wird.</p><p>Dieses Prinzip wird &quot;Kapselung&quot; genannt und ist enorm wichtig, um das Zusammespiel von Bibliotheken zu ermöglichen. Stellen Sie sich das Chaos vor, wenn Sie ein neues Programm schreiben, und dann immer ausprobieren müssen, ob Sie beim Erstellen einer Variable nicht plötzlich eine wichtige Variable einer Bibliothek überschreiben...</p><p>In gewissen Situationen möchten wir aber Variablen der Aussenwelt ändern. Um dies zu tun, muss die Variable innerhalb des eingerückten Codeblocks als <code>global</code> gekennzeichnet werden.</p><p><strong>Achtung!</strong>: Es reicht aus, wenn nur eine Funktion im Programm <code>on_update</code> heisst. Ändern Sie also diese Funktion ab, statt eine neue hinzuzufügen.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly py"><pre tabindex="0" class="prism-code language-py codeBlock_23N8 thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#000000"><span class="token plain">player_pos_x </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">on_update</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">data</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> DataFrame</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">global</span><span class="token plain"> player_pos_x</span></span><span class="token-line" style="color:#000000"><span class="token plain">    player_pos_x </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> player_pos_x </span><span class="token operator" style="color:rgb(0, 0, 0)">+</span><span class="token plain"> data</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">acceleration</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">x</span></span><span class="token-line" style="color:#000000"><span class="token plain">    device</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">update_rectangle</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token builtin" style="color:rgb(0, 112, 193)">id</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;player&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">        pos_x</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">player_pos_x</span></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><p>Und zu guter letzt: Das Rechteck soll nicht abhauen können...</p><p><strong>Aufgabe</strong>: Überprüfe auch, dass das Rechteck links nicht komplett über den Rand hinausschiesst.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly py"><pre tabindex="0" class="prism-code language-py codeBlock_23N8 thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#000000"><span class="token plain">player_pos_x </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">on_update</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">data</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> DataFrame</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">global</span><span class="token plain"> player_pos_x</span></span><span class="token-line" style="color:#000000"><span class="token plain">    player_pos_x </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> player_pos_x </span><span class="token operator" style="color:rgb(0, 0, 0)">+</span><span class="token plain"> data</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">acceleration</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">x</span></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">if</span><span class="token plain"> player_pos_x </span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">50</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">        player_pos_x </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">50</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    device</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">update_rectangle</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token builtin" style="color:rgb(0, 112, 193)">id</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;player&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">        pos_x</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">player_pos_x</span></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div></div></div><hr><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="4-highscore-"></a>4. Highscore *<a class="hash-link" href="#4-highscore-" title="Direct link to heading">#</a></h2><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Schritt 0</li><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">Schritt 1</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Schritt 2</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Schritt 3</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Schritt 4</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Schritt 5</li></ul><div class="margin-vert--md"><div role="tabpanel" hidden=""><p>Der aktuelle Score wird als Text angezeigt.
Nach der Konfiguration des Playgrounds fügen wir dem Spiel einen Highscore hinzu.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly py"><pre tabindex="0" class="prism-code language-py codeBlock_23N8 thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#000000"><span class="token plain">device</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">add_text</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    pos_x</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token operator" style="color:rgb(0, 0, 0)">-</span><span class="token number" style="color:rgb(9, 134, 88)">40</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    pos_y</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">160</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    font_color</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;white&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    font_size</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    text</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;Score: 3&#x27;</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><div role="tabpanel"><p>Wie soll gezählt werden?</p><p><strong>Vorschlag</strong>:</p><ul><li>Fangen wir einen Stern: <code>+1</code> Leben</li><li>Geht uns ein Stern durch die Lappen: <code>-1</code> Leben</li></ul><p>Um herauszufinden, ob wir einen Stern gefangen haben, müssen wir Kollisionen detektieren. Das über die Eigenschaft <code>collision_detection</code> bei unserem Controller aktiviert werden. Danach wird jedes mal, wenn ein Objekt mit dem Controller kollidiert, eine Nachricht an uns geschickt.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly py"><pre tabindex="0" class="prism-code language-py codeBlock_23N8 thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#000000"><span class="token plain">device</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">add_rectangle</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token builtin" style="color:rgb(0, 112, 193)">id</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;player&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    width</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    height</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    color</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">Colors</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">WHITE</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    pos_x</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    pos_y</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    collision_detection</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token boolean">True</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><p>Ganz unten im Programm (aber noch vor dem <code>device.wait()</code>) wird die Funktion <code>on_collision</code> definiert, welche bei jeder Kollision eines Objekts mit unserem Controller aufgerufen wird.</p><p>Das übertragene Datenpaket wird unserer Funktion übergeben - es hat den Type <code>SpriteCollisionMsg</code>.</p><p><strong>Aufgabe</strong>: Wiederum einen eigenen, deutschen Namen für die Funktion verwenden.</p><p><strong>Nächster Schritt</strong>: Wir wollen den Score anpassen. Auch hier müssen wir diesen Score wieder ausserhalb der Funktion abspeichern. Kannst du das Konzept von der <code>player_pos_x</code> hier selber anwenden? Versuche es bevor du zum nächsten Schritt gehst. <strong>Hinweis</strong>: <code>3</code> Schritte müssen vorgenommen werden.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly py"><pre tabindex="0" class="prism-code language-py codeBlock_23N8 thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">on_collision</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">data</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> SpriteCollisionMsg</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">print</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;score!&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#000000"><span class="token plain">device</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">on</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;collision&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> on_collision</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><p>Wenn die Variable fürs Zählen der Leben bei dir anders heisst, ist das kein Problem.</p><p>Nun möchten wir den Stern von der Spielfläche entfernen, so dass er nicht plötzlich am unteren Rand ankommt und dann ein Leben abgezogen wird.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly py"><pre tabindex="0" class="prism-code language-py codeBlock_23N8 thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#000000"><span class="token plain">device</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">add_text</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token builtin" style="color:rgb(0, 112, 193)">id</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;score&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain">             </span><span class="token comment" style="color:rgb(0, 128, 0)"># Schritt 3a</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    pos_x</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token operator" style="color:rgb(0, 0, 0)">-</span><span class="token number" style="color:rgb(9, 134, 88)">40</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    pos_y</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">160</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    font_color</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;white&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    font_size</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    text</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;Score: 3&#x27;</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#000000"><span class="token plain">score </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">3</span><span class="token plain">                   </span><span class="token comment" style="color:rgb(0, 128, 0)"># Schritt 1</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">on_collision</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">data</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> SpriteCollisionMsg</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">global</span><span class="token plain"> score            </span><span class="token comment" style="color:rgb(0, 128, 0)"># Schritt 2a</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    score </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> score </span><span class="token operator" style="color:rgb(0, 0, 0)">+</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain">       </span><span class="token comment" style="color:rgb(0, 128, 0)"># 2b</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#000000"><span class="token plain">    device</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">update_text</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">     </span><span class="token comment" style="color:rgb(0, 128, 0)"># Schritt 3b</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token builtin" style="color:rgb(0, 112, 193)">id</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;score&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">        text</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)">f&#x27;Score: </span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token string-interpolation interpolation">score</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)">&#x27;</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><p><em>Wenn die Variable fürs Zählen der Leben bei dir anders heisst, ist das kein Problem.</em></p><p>Nun möchten wir den Stern von der Spielfläche entfernen, so dass er nicht plötzlich am unteren Rand ankommt und dann ein Leben abgezogen wird.</p><p>Im Parameter <code>data</code> sind die beiden kollidierten Objekte unter dem Feld <code>data.objects</code> verfügbar. Der kollidierte Stern ist an der zweiten Stelle abgespeichert. Etwas gewöhnungsbedürftig: in Python beginnt das Zählen in Listen bei <code>0</code>. Das erste Objekt (der Kontroller) wird also mit <code>data.objects[0]</code> abgefragt, <code>data.objects[1]</code> gibt das zweite Objekt, den Stern, zurück.</p><p>Um diesen zu entfernen, brauchen wir wiederum seine <code>id</code>.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly py"><pre tabindex="0" class="prism-code language-py codeBlock_23N8 thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">on_collision</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">data</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> SpriteCollisionMsg</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">global</span><span class="token plain"> score</span></span><span class="token-line" style="color:#000000"><span class="token plain">    score </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> score </span><span class="token operator" style="color:rgb(0, 0, 0)">+</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token builtin" style="color:rgb(0, 112, 193)">object</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> data</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    device</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">remove_object</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token builtin" style="color:rgb(0, 112, 193)">object</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token builtin" style="color:rgb(0, 112, 193)">id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#000000"><span class="token plain">    device</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">update_text</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token builtin" style="color:rgb(0, 112, 193)">id</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;score&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">        text</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)">f&#x27;Score: </span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token string-interpolation interpolation">score</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)">&#x27;</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><p>Der name <code>collision</code> ist etwas verfänglich, in Wahrheit wird diese Funktion nähmlich auch dann benachrichtigt, wenn eine Kollision wieder aufgelöst wurde. Wir sollten deshalb überprüfen, ob die Kollision neu aufgetreten ist und nur dann den Score erhöhen.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly py"><pre tabindex="0" class="prism-code language-py codeBlock_23N8 thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">on_collision</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">data</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> SpriteCollisionMsg</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">global</span><span class="token plain"> score</span></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">if</span><span class="token plain"> data</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">overlap </span><span class="token operator" style="color:rgb(0, 0, 0)">==</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;in&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">        score </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> score </span><span class="token operator" style="color:rgb(0, 0, 0)">+</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token builtin" style="color:rgb(0, 112, 193)">object</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> data</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">        device</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">remove_object</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token builtin" style="color:rgb(0, 112, 193)">object</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token builtin" style="color:rgb(0, 112, 193)">id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#000000"><span class="token plain">        device</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">update_text</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token builtin" style="color:rgb(0, 112, 193)">id</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;score&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">            text</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)">f&#x27;Score: </span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token string-interpolation interpolation">score</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)">&#x27;</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div></div></div><hr><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="41-stern-berührt-den-boden-"></a>4.1 Stern berührt den Boden *<a class="hash-link" href="#41-stern-berührt-den-boden-" title="Direct link to heading">#</a></h3><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Schritt 0</li><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">Schritt 1</li></ul><div class="margin-vert--md"><div role="tabpanel" hidden=""><p>Sobald ein Objekt den Spielfeldrand berührt/überlappt wird eine Nachricht an das laufende Python-Programm geschickt.</p><p>Mit <code>device.on(&#x27;overlap&#x27;, overlap_function)</code> kann die Nachricht an die Funktion <code>overlap_function</code> in unserem Programm weitergeleitet werden.</p><p>Jedes Mal wenn ein Stern den Boden berührt, soll ein Punkt abgezogen werden.</p><p><strong>Aufgabe</strong>: Was passiert aktuell, wenn:</p><ul><li>ein Monster den Boden berührt?</li><li>der Spieler (weisser Balken) den Spielfeldrand berührt?</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly py"><pre tabindex="0" class="prism-code language-py codeBlock_23N8 thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">overlap_function</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">data</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> BorderOverlapMsg</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">global</span><span class="token plain"> score</span></span><span class="token-line" style="color:#000000"><span class="token plain">    score </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> score </span><span class="token operator" style="color:rgb(0, 0, 0)">-</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    device</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">update_text</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token builtin" style="color:rgb(0, 112, 193)">id</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;score&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">        text</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)">f&#x27;Score: </span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token string-interpolation interpolation">score</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)">&#x27;</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#000000"><span class="token plain">device</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">on</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;border_overlap&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> overlap_function</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><div role="tabpanel"><p>Die übergebene <code>BorderOverlapMsg</code> Nachricht enthält auch ein Feld <code>border</code>, welches anzeigt welcher Rand vom Objekt berührt wurde:</p><ul><li><code>bottom</code>: der untere Rand</li><li><code>top</code>: der obere Rand</li><li><code>left</code>: der linke Rand</li><li><code>right</code>: der rechte Rand</li></ul><p>Es soll aber nur dann ein Punkt abgezogen werden, wenn der <strong>untere Rand</strong> berührt wurde.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly py"><pre tabindex="0" class="prism-code language-py codeBlock_23N8 thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">overlap_function</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">data</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> BorderOverlapMsg</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">global</span><span class="token plain"> score</span></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">if</span><span class="token plain"> data</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">border </span><span class="token operator" style="color:rgb(0, 0, 0)">==</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;bottom&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">        score </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> score </span><span class="token operator" style="color:rgb(0, 0, 0)">-</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#000000"><span class="token plain">        device</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">update_text</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token builtin" style="color:rgb(0, 112, 193)">id</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;score&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">            text</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)">f&#x27;Score: </span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token string-interpolation interpolation">score</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)">&#x27;</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="42-zufällige-stern-symbole"></a>4.2 Zufällige Stern-Symbole<a class="hash-link" href="#42-zufällige-stern-symbole" title="Direct link to heading">#</a></h3><a href="https://jupyter.gbsl.website" target="_blank" rel="noopener noreferrer" class="theorie">Kapitel 4.2.1</a><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Schritt 0</li></ul><div class="margin-vert--md"><div role="tabpanel" hidden=""><p>Sollen unterschiedliche Emojis/Bilder für die Sterne zum Einsatz kommen, brauchen wir zwei Dinge:</p><ul><li>Eine Liste welche alle Sterne, Emojis oder Namen der Bilder entählt.</li><li>Eine Möglichkeit, ein Zufälliges Element aus einer Liste auszuwählen.</li></ul><p>Übrigens: Eine Liste von Symbol-Zeichen kann bspw. unter <a href="https://utf8-chartable.de/unicode-utf8-table.pl?start=9920&amp;number=128&amp;names=2&amp;utf8=char" target="_blank" rel="noopener noreferrer">https://utf8-chartable.de</a> gefunden werden.</p><p><strong>Bemerke</strong>:</p><ul><li>Mit <code>choice</code> kann ein zufälliges Element einer Liste abgefragt werden.</li><li>Passen Sie ihre Existierende Funktion fürs Hinzufügen von Sternen an, es braucht keine neue...</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly py"><pre tabindex="0" class="prism-code language-py codeBlock_23N8 thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">from</span><span class="token plain"> random </span><span class="token keyword" style="color:rgb(0, 0, 255)">import</span><span class="token plain"> choice</span></span><span class="token-line" style="color:#000000"><span class="token plain">star_symbols </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;✩&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;✪&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;✫&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;✬&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;✭&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;✮&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;✯&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;✶&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;✺&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">add_star</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    symbol </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> choice</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">star_symbols</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    device</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">add_circle</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">        text</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">symbol</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">        font_color</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">Colors</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">GOLD</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token comment" style="color:rgb(0, 128, 0)"># ...</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div></div></div><hr><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="5-monster-"></a>5. Monster *<a class="hash-link" href="#5-monster-" title="Direct link to heading">#</a></h2><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Schritt 0</li><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">Schritt 1</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Schritt 2</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Schritt 3</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Schritt 4</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Schritt 5</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Schritt 6</li></ul><div class="margin-vert--md"><div role="tabpanel" hidden=""><p>Nun haben wir ein funktionierendes Spiel, aber es ist noch nicht so anspruchsvoll.</p><p>Deshalb soll dem Spiel ein Hindernis eingebaut werden - weniger regelmässig als die Sterne sollen Monster herunterfallen. Monster fallen schneller und ziehen Leben ab, wenn sie den Controller erwischen. Fallen sie aus dem Spielfeld heraus, dann entsteht kein Schaden.</p><p>Versuche analog zu den Sternen, eine automatische Monster-Erzeuger zu machen.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly py"><pre tabindex="0" class="prism-code language-py codeBlock_23N8 thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">add_monster</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><div role="tabpanel"><p><strong>Aufgabe</strong>:</p><ul><li>Die Monster sollen <em>zufällig</em> über die ganze Spielbreite verstreut werden</li><li>Die Monster sollen eine zufällige Farbe bekommen</li><li>Die Monster sollen eine zufällige Geschwindigkeit zwischen 5 und 10 haben.</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly py"><pre tabindex="0" class="prism-code language-py codeBlock_23N8 thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">add_monster</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    device</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">add_circle</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">        text</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;☢&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">        font_color</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;red&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">        font_size</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">        radius</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">3</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">        direction</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">-</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">        speed</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">6</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">        pos_x</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">        pos_y</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#000000"><span class="token plain">device</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">subscribe_async</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">add_monster</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">5</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><p>Wie entscheiden wir uns in der Funktion <code>on_collision</code> ob wir eine Monster oder ein Stern eingefangen haben? Aktuell können wir das (noch) nicht.</p><p>Haben Sie eine Idee?</p><p><strong>Hinweise</strong>:</p><ul><li>Wie werden in der Schweiz die Autokennzeichen vergeben?</li><li>Wie lässt sich vom Kennzeichen ableiten, in welchem Kanton ein Auto zugelassen ist?</li></ul><p><img alt="nummernschilder" src="/assets/images/nummernschilder-f6f423ceb73ebf9cb673e006ca62d245.jpg"></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly py"><pre tabindex="0" class="prism-code language-py codeBlock_23N8 thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><p>Die Kennzeichnung der verschiedenen Objekte auf dem Playground werden aktuell automatisch vergeben - wir können diese aber auch so anpassen, dass Sterne bspw. immer mit <code>star</code> beginnen und Monster mit <code>monster</code>.</p><p>Um eindeutige ID&#x27;s zu vergeben, schreiben wir eine Funktion:</p><ul><li>die einen Text entgegennimmt (<code>star</code> oder <code>monster</code>)</li><li>eine eindeutige Zahl zum Text hinzufügt</li><li>... und diese ID alss Resultat zurückgibt</li></ul><p><strong>Aufgabe</strong>: Bei der angegebenen Funktion gibt es noch ein Problem. Woran liegt das? (<em>Tipp</em>: Denke an die verspiegelte Scheibe, oder schaue bei Schritt 4 bei &quot;Controller&quot; nach.)</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly py"><pre tabindex="0" class="prism-code language-py codeBlock_23N8 thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#000000"><span class="token plain">id_counter </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">next_id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">name</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token builtin" style="color:rgb(0, 112, 193)">id</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)">f&#x27;</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token string-interpolation interpolation">name</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)">-</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token string-interpolation interpolation">id_counter</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)">&#x27;</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    id_counter </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> id_counter </span><span class="token operator" style="color:rgb(0, 0, 0)">+</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">return</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(0, 112, 193)">id</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><p>Nun werden beim Sterne- und Monster-Generator diese neuen ID&#x27;s verwendet.</p><p><strong>Aufgabe</strong>: Verwende andere Namen für die Unterscheidung zwischen Stern und Monster (also nicht <code>star</code> und <code>monster</code>).</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly py"><pre tabindex="0" class="prism-code language-py codeBlock_23N8 thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">add_star</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    device</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">add_circle</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token builtin" style="color:rgb(0, 112, 193)">id</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">next_id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;star&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">        text</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;★&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">add_monster</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    device</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">add_circle</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token builtin" style="color:rgb(0, 112, 193)">id</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">next_id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;monster&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">        text</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;☢&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><p>In der Funktion <code>on_collision</code> wird nun untersucht, ob es sich um einen aufgefangenen Stern oder um ein Monster handelt.</p><p>Die Funktion <code>startswith</code> überprüft, ob ein Text mit dem übergebenen Textteil startet.</p><p><strong>Aufgabe</strong>: Wird ein Monster erwischt, soll dessen Text-Grösse (<code>font_size=</code>) auf <code>20</code> erhöht werden.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly py"><pre tabindex="0" class="prism-code language-py codeBlock_23N8 thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">on_collision</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">data</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> SpriteCollisionMsg</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">global</span><span class="token plain"> score</span></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">if</span><span class="token plain"> data</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">overlap </span><span class="token operator" style="color:rgb(0, 0, 0)">==</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;in&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token builtin" style="color:rgb(0, 112, 193)">object</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> data</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">if</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(0, 112, 193)">object</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token builtin" style="color:rgb(0, 112, 193)">id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">startswith</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;star&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">            score </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> score </span><span class="token operator" style="color:rgb(0, 0, 0)">+</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">            device</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">remove_object</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token builtin" style="color:rgb(0, 112, 193)">object</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token builtin" style="color:rgb(0, 112, 193)">id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">elif</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(0, 112, 193)">object</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token builtin" style="color:rgb(0, 112, 193)">id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">startswith</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;monster&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">            score </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> score </span><span class="token operator" style="color:rgb(0, 0, 0)">-</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">5</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#000000"><span class="token plain">        device</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">update_text</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token builtin" style="color:rgb(0, 112, 193)">id</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;score&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">            text</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)">f&#x27;Score: </span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token string-interpolation interpolation">score</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)">&#x27;</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><p>Aktuell werden Punkte abgezogen, wenn ein Stern oder aber auch ein Monster den Boden berührt (Schritt 4.1). Es soll aber nur dann ein Punkt abgezogen werden, wenn ein Stern den Boden berührt - das können wir auch wieder mit dem <code>startswith(&#x27;star&#x27;)</code> überprüfen.</p><p><strong>Aufgabe</strong>: Ändern Sie die Funktion <code>overlap_function</code> entsprechend dem untenstehenden Beispiel ab.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly py"><pre tabindex="0" class="prism-code language-py codeBlock_23N8 thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">overlap_function</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">data</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> BorderOverlapMsg</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">global</span><span class="token plain"> score</span></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">if</span><span class="token plain"> data</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">border </span><span class="token operator" style="color:rgb(0, 0, 0)">==</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;bottom&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">if</span><span class="token plain"> data</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token builtin" style="color:rgb(0, 112, 193)">id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">startswith</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;star&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">            score </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> score </span><span class="token operator" style="color:rgb(0, 0, 0)">-</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#000000"><span class="token plain">        device</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">update_text</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token builtin" style="color:rgb(0, 112, 193)">id</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;score&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">            text</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)">f&#x27;Score: </span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token string-interpolation interpolation">score</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)">&#x27;</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div></div></div><hr><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="6-tastensteuerung-"></a>6. Tastensteuerung *<a class="hash-link" href="#6-tastensteuerung-" title="Direct link to heading">#</a></h2><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Schritt 0</li><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">Schritt 1</li></ul><div class="margin-vert--md"><div role="tabpanel" hidden=""><p>Je nach Spiel ist eine Tastensteuerung besser geeignet als die Kontrolle über die Beschleunigungs-Daten des Smartphones. Zudem haben viele Laptops keine Beschleunigungssensoren, so dass wir dort ohnehin eine alternative Kontroll-Möglichkeit brauchen. Um das zu bewerkstelligen, fangen wir die Tastenanschläge ab.</p><p>Vorerst erzeugen wir das Grundgerüst:</p><ul><li>sobald eine Taste (<code>key</code>) empfangen wird, soll die Nachricht an eine Funktion weitergeleitet werden. Diese Funktion heisst im Beispiel <code>on_key</code> und mit <code>device.on(&#x27;key&#x27;, on_key)</code> wird die Weiterleitung der Nachricht festgelegt.</li><li><code>on_key</code> macht vorerst noch nicht mehr, als zu überprüfen ob die gedrückte Taste <code>left</code> oder <code>right</code> war und gibt dann im Terminal einen Text aus.</li></ul><p><strong>Aufgabe</strong>:</p><ol><li>Überprüfe ob die Tastenanschläge ankommen und ob im Terminal die Texte ausgegeben werden.</li><li>Wie kann nun der weisse Balken aktualisiert werden? (Überlege selber, bevor du zum nächsten Schritt gehst)</li></ol><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly py"><pre tabindex="0" class="prism-code language-py codeBlock_23N8 thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">on_key</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">data</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> KeyMsg</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">if</span><span class="token plain"> data</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">key </span><span class="token operator" style="color:rgb(0, 0, 0)">==</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;left&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">print</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;Nach links&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">elif</span><span class="token plain"> data</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">key </span><span class="token operator" style="color:rgb(0, 0, 0)">==</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;right&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">print</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;Nach rechts&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#000000"><span class="token plain">device</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">on</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;key&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> on_key</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><div role="tabpanel"><p>Die Funktion <code>on_key</code> wurde so angepasst, dass nun die Variable mit der aktuellen Spielerposition <code>player_pos_x</code> in unserem Programm aktualisiert wird. Die neue Position wird dann mit <code>device.updat_rectangle</code> ans Gerät übertragen.</p><p><strong>Beachte</strong>:</p><blockquote><p>es wird wieder die Variable <code>player_pos_x</code> aktualisiert - also muss diese wieder mit <code>global</code> für die Funktion zugänglich gemacht werden.</p></blockquote><p><strong>Aufgabe</strong>:</p><ul><li>Implementiere, dass auch nach rechts gesteuert werden kann</li><li>Aktuell kann das Rechteck auch über den Rand hinaustreten - verhindere dies. (Schaue bei &quot;3. Controller&quot; im Schritt <strong>5</strong> nach, wie wir es da gemacht haben).</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly py"><pre tabindex="0" class="prism-code language-py codeBlock_23N8 thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">on_key</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">data</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> KeyMsg</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">global</span><span class="token plain"> player_pos_x</span></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">if</span><span class="token plain"> data</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">key </span><span class="token operator" style="color:rgb(0, 0, 0)">==</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;left&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">        player_pos_x </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> player_pos_x </span><span class="token operator" style="color:rgb(0, 0, 0)">-</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">5</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">elif</span><span class="token plain"> data</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">key </span><span class="token operator" style="color:rgb(0, 0, 0)">==</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;right&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">print</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;Nach rechts&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#000000"><span class="token plain">    device</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">update_rectangle</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token builtin" style="color:rgb(0, 112, 193)">id</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;player&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> pos_x</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">player_pos_x</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div></div></div><hr><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="61-tastensteuerung-über-knöpfe"></a>6.1 Tastensteuerung über Knöpfe<a class="hash-link" href="#61-tastensteuerung-über-knöpfe" title="Direct link to heading">#</a></h3><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Schritt 0</li><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">Schritt 1</li></ul><div class="margin-vert--md"><div role="tabpanel" hidden=""><p>Nicht auf jedem Gerät gibt es eine Tastatur (Tablet, Smartphone). Um Dennoch Tasten verfügbar zu machen, können wir klickbare Elemente auf dem Spielfeld positionieren.</p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA64AAALECAYAAAAIHm36AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAHYcAAB2HAY/l8WUAAAAhdEVYdENyZWF0aW9uIFRpbWUAMjAyMDoxMjowOCAwOToxMzo1OEJ6gbYAABpRSURBVHhe7d1NjJz3Qcfx/+zO7s6u39aO4yaihxqlQi4C1JADicTFFRxc5ZIIpLaCA4hDKZfKCQcKuYA4tE4PELg0KhIoRSoKtwQJyeGQYAsKTlMUh9AQq3Uav8Vev7/bwzyzz2LHnd2dXXu9v535fKR/PPM8a2clR6P95v/yNEop7c4AAACASCP1rwAAABBJuAIAABBNuAIAABBNuAIAABBNuAIAABBNuAIAABBNuAIAABBNuAIAABBNuAIAABBNuAIAABBNuAIAABBNuAIAABBNuAIAABBNuAIAABBNuAIAABBNuAIAABBNuAIAABBNuAIAABBNuAIAABBNuAIAABBNuAIAABBNuAIAABBNuAIAABBNuAIAABBNuAIAABBNuAIAABBNuAIAABBNuAIAABBNuAIAABBNuAIAABBNuAIAABBNuAIAABBNuAIAABBNuAIAABBNuAIAABBNuAIAABBNuAIAABBNuAIAABBNuAIAABBNuAIAABBNuAIAABBNuAIAABBNuAIAABBNuAIAABBNuAIAABBNuAIAABBNuAIAABBNuAIAABBNuAIAABBNuAIAABBNuAIAABBNuAIAABBNuAIAABBNuAIAABBNuAIAABBNuAIAABBNuAIAABBNuAIAABBNuAIAABBNuAIAABBNuAIAABBNuAIAABBNuAIAABBNuAIAABBNuAIAABBNuAIAABBNuAIAABBNuAIAABBNuAIAABBNuAIAABBNuAIAABBNuAIAABBNuAIAABBNuAIsw/h0qzRGGvU7AABWknAFWKKRsZGy/lObymirWV8BAGAlCVeAJWquHy+T29aV8emJ+goAACtJuAIsUeuBydJojpRWJ14bo5YLAwCsNOEKsAQjY6Nl4oGp7uuJLZOlOTXWfQ0AwMoRrgBLMLZhvIxvaXVfV3tcq3gFAGBlCVeAJWg9OFUajVvLgyeqZcOjPkoBAFaSn7YA+tSdYd06u0x4Tne58DrLhQEAVpJwBehTtUx4bON4/W7WyPhodxYWAICVI1wB+tFodAJ13ceWCc9pbZ3qHtoEAMDKEK4AfRidGC0T9aFMdxrfNFGa6y0XBgBYKcIVoA/j060ytnGifvdx1TNdJ7etq98BAHCvCVeARTRGqmXCC+9jrQ5pqva7AgBw7wlXgEX087zWsemJ7pJhAADuPeEKsIjxTpQu9sib6tCm7qNyehzeBADA3RGuAAuolgnf+ezW+bQemOwe4gQAwL0lXAEW0Jwa6wRpf+FaHd5UHeIEAMC9JVwBFjBRzaJONut3i2ttm+rO0gIAcO8IV4B5NEZHuuG6FBObO6Hb6j90AQBYnHAFmEdzqrnkpb/VIU7VYU4AANw7whVgHhMPTC1r9rS1bV1pjFouDABwrwhXgB4azaUvE55TPfO1OtQJAIB7Q7gC9DC2frz7eJvlqGZpq3gFAODeEK4APbS2TnZnXZerevbr3fx+AABu8VMVwB1Gxka7+1vvRjVbW83aAgBw94QrwB2a68fK+Ka7Oxn4bvbIAgDwcdWxl+3ZlwChOp9UUw9vKNM//2AZGfP/23o5/6Mz5ey7J8vN6zfrKwAAg0O4AmtGNQu6+Zc+YQnubdo32+X0wY/KhcNnO298nAMAg0m4AmtKdWJvNfM6+Yl19ZXhdePS9XLqrWPlyqlL9RUAgMEkXIE1pzHaKBsf2VLW/+x0aTSqj7Hhc+XkpTLzX8fL9YvX6isAAINLuAJrU+fTa1j3vdrPCgAMG+EKrGnDtO/VflYAYFgJV2DNG4Z9r/azAgDDTLgCA2GQ973azwoADDvhCgyOzifaIO17bbfb5fz7p8vZ92ZK+4b9rADA8BKuwMAZhH2vN6/dLKffPlEuHjnnUxoAGHrCFRhIa3nf67XzV8vMW8fK1TNX6isAAMNNuAIDq9r3umH75rLh05vXzL7XS8cudGdab1y+Xl8BAEC4AgOvtW1d2fwL28roxGh9Jc+t/aynSvuGj2UAgNsJV2AoVPtdN//itjI+3aqv5LCfFQBgYcIVGBoj46NlesfWMvUzG+orq89+VgCAxQlXYKg0Rhpl/aemy8af27Lq+17tZwUA6I9wBYbSau57tZ8VAGBphCswtMY3t8rWX364u4T4fjrz7sly7v0Zn74AAH0aqX8FGDrNyeZ9j9ZKc2pszTyeBwAggXAFhlK113Vi61T97v6qZnpHW836HQAAixGuwFCqwnG1Ho1TPZpnbONE/Q4AgMUIV2AoVeFYBeRqmdgyWYrlwgAAfRGuwNCplgm3HlydZcJzJra0VuVEYwCAtUi4AkOnOpBpfNPqLtXtzvhaLgwA0BfhCgydlGhsVYdDWS4MALAo4QoMl04odoMxQPd0YcuFAQAWJVyBoVKFYrW/NMHYxvEytmH1DogCAFgrhCswVKpQbIbEYqPRmD1dGACABQlXYHhUobh1qhuMd+P6xWvl1FvHypWTl+ory1eFa3VYFAAA8xOuwNAYGRspE9PLXybcbrfL+R+dKcf3fVAu/uRc+eh7H5Yz73xU2jfb9Vcs3dj06j5PFgBgLRCuwNCoArEKxeWoZllP/seRcvrtE+Xm1Rvda1Wwnjt0uhx/43C5cmp5s6/V7O9qP1MWACCdcAWGRhWIS10mPDfLemL/B+XyiYv11Y+7dv5q+ejflz/7Oj7dKiNjlgsDAMxHuAJDoQrDKhCX4sal67OzrAdPlBtXZmdZ5zM3+1oF7lJnX8c3TZTm+rH6HQAAdxKuwFCowrAKxH5d+HG1l/Xw7CzrEiZRr565Mrv39d2Tfc++NpojThcGAFiAcAWGQuuByW4gLqaaWT35n0fKzNuLz7LOp32jXc7978ySZl8nOt9fdXgUAAA/zU9JwMCrgnC8jxnN6qTg42/8uFw6dmFJs6zzmZ19PdLX7Gt12nFzndOFAQB6Ea7AwKuCcKHH4FQzq6e+f6yc+sGxZc+yzqd942Zfs6/VbPBS9+ACAAwL4QoMvGoZ7nzLhC8dOV+O/+vhcvHDc/dklnU+/cy+LvR9AgAMMz8hAQNtvpnMamZ15gfHy8nvHys3Ll+vr66s22dfr56+XF+9ZWJzqzSnnC4MAHAn4QoMtCoEqyC8XbWHtTox+MIHZzs1uYLTrPOoZl9P/NuH5ez/nOo+J3bOyPio04UBAHoQrsBAq0KwCsLK3CzrqTePdp/Rupqq2dez750qJ/Z9fPZ1YkurNEZ9NAMA3M5PR8DAqpYJV/tGK5ePX+gu0a1mWft9vur9MDf7Wi0hrmZfq2XNzalmfRcAgIpwBQZWc7JZxtaPz+5lPXC0XL94rb6TpZp9rQ5tOrH/J+Xm9ZtlfJPThQEAbtfojJypB4B7qLVtXbl+4WpnZAZrL9Uy4da2qXL52IWomWEAgNUkXAEAAIhmqTAAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRhCsAAADRGp3Rnn0JwDBpt338w0IajerHJAASmHEFAAAgmnAFAAAgmnAFAAAgmnAFAAAgmnAFAAAgmnAFAAAgmnAFAAAgmnAFAAAgmnAFAAAgmnAFAAAgmnAFAAAgmnAFAAAgmnAFAAAgmnAFAAAgmnAFAAAgmnAFAAAgmnAFAAAgmnAFAAAgmnAFAAAgmnAFAAAgmnAFAAAgmnAFAAAgmnAFAAAgmnAFAAAgmnAFAAAgmnAFAAAgmnAFAAAgmnAFAAAgmnAFAAAgmnAFAAAgmnAFAAAgmnAFAAAgmnAFAAAgmnAFAAAgmnAFAAAgmnAFAAAgmnAFAAAgmnAFAAAgmnAFAAAgmnAFAAAgmnAFAAAgmnAFAAAgmnAFAAAgmnAFAAAgmnAFAAAgmnAFAAAgmnAFAAAgmnAFAAAgmnAFAAAgmnAFAAAgmnAFAAAgmnAFAAAgmnAFAAAgmnAFAAAgmnAFAAAgmnAFAAAgmnAFAAAgmnAFAAAgmnAFAAAgWqMz2rMvAQAAII8ZVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKIJVwAAAKI1OqM9+3J1tdsR3wa1RqP6TwMAAAaXBsmyUIOYcQUAACBa3Iyrmb7V5e8BAIBh4WffDP38PZhxBQAAIJpwBQAAIJpwBQAAIJpwBQAAIJpwBQAAIJpwBQAAIJpwBQAAIJpwBQAAIJpwBQAAIJpwBQAAIJpwBQAAIJpwBQAAIJpwBQAAIJpwBQAAIJpwBQAAIJpwBQAAIJpwBQAAIJpwBQAAIJpwBQAAIJpwBQAAIJpwBQAAIJpwBQAAIJpwBQAAIJpwBQAAIJpwBQAAIJpwBQAAIJpwBQAAIJpwBQAAIJpwBQAAIJpwBQAAIJpwBQAAIJpwBQAAIJpwBQAAIJpwBQAAIJpwBQAAIJpwBQAAIJpwBQAAIJpwBQAAIJpwBQAAIJpwBQAAIJpwXY5HdpdXDl8q7fZM2fvV+hoAAMCq2F32zrRL+9LB8tIXttfXBotwXapOtO59fU/Z9clWfQEAACBAa0f54rf3lpe/PHjxKlyX4rGvlb3795SdD10u7/z30foiAABAgNNHy9GyvTz1zX3llWcHK16Fa7+e3FP2/dOflZ1bO9H6N0+Xz+yf6VycLju/2S7t9hLHOy/O/pkAAAC32f3aTO+GWHDsKTunO7/56CvliedeK0ebD5Vdf76v7B2geBWu/XjyhXLgb3eXxzvReugfnimf/51X6xsAAAA5Dn3jc+WJP3qtnO7E686vHyh7/+Sz9Z21r50w5vS6t6rjyRfbBy/Nfm9H/nl3e3uvr+l77G7vnen8Qe+82ONexpjT655hGIZhGIZhDNKY0+veao3dr1XBcLD9Yo97Sxnbn93brv6kduef+76+q+fXpIw5ve7NDTOuC9j+hZfKwe/+btnRKuX0vzxTnvj158uh+h4AAECqauZ153OvldNlujz+7EvlwF/squ+sTcJ1AU/93q7/j9ZHd4pWAABg7XjzTz9XvvSXb3bj9bO/tbvsrq+vRcK1H5MPlx31SwAAgLVhe9n+0HQZhAd5CtcF/OO3Xipvni5l+ld2l5d/+HL5yiP1DQAAgGi7yp79B8oLv7G9tK4fLfu/9Xx5vr6zVvXc/Hq/x5xe91Z1PPKV9ss/rE9nOrGvvefJ+vq3D85eWw6HMxmGYRiGYRjGqo85ve6t1pg9nGmZ5jrj9oaZOdB+4Qvbf+rfkzTm9Lo3N8y4Lua9vypPf/rp8vwbR0vZ+njZ/d33y8tfHqyH+QIAAAPisa+Vva+/UJ56pFUuf/Bq+eNfe7T8wd8Pxmk9PYv2fo85ve5ljO3tL/71gVtHSn/vSPfXvV/t9bVrd8zpdc8wDMMwDMMwBmnM6XVvbY36sZuHD956lOfre9q7en5t3pjT697cMOPat0PlO7//aHn0D18tRy9Pl8cfe6i+DgAAEOCTO8qO1uXyzt99qTzxq8+UV+vLg0C4LtGhb3y+PPybz5f9R+sLAAAACS4fLa8+90T5zG9/Z+Ae5dnojGrqddXNzgx3vqFG9S2xWvw9AAAwLPzsm6GfvwczrgAAAEQTrgAAAEQTrgAAAEQTrgAAAEQTrgAAAEQTrgAAAEQTrgAAAEQTrgAAAEQTrgAAAEQTrgAAAEQTrgAAAEQTrgAAAEQTrgAAAEQTrgAAAEQTrgAAAEQTrgAAAEQTrgAAAEQTrgAAAEQTrgAAAEQTrgAAAEQTrgAAAEQTrgAAAEQTrgAAAEQTrgAAAEQTrgAAAEQTrgAAAEQTrgAAAEQTrgAAAEQTrgAAAEQTrgAAAEQTrgAAAEQTrgAAAEQTrgAAAEQTrgAAAEQTrgAAAEQTrgAAAEQTrgAAAEQTrgAAAEQTrgAAAERrdEZ79uXqarcjvg1qjUb1nwYAAAwuDZJloQYx4woAAEC0mBlXAAAA6MWMKwAAANGEKwAAANGEKwAAANGEKwAAANGEKwAAANGEKwAAANGEKwAAANGEKwAAANGEKwAAANGEKwAAANGEKwAAANGEKwAAANGEKwAAANGEKwAAANGEKwAAANGEKwAAANGEKwAAANGEKwAAANGEKwAAANGEKwAAANGEKwAAANGEKwAAANGEKwAAANGEKwAAANGEKwAAANGEKwAAANGEKwAAANGEKwAAANGEKwAAANGEKwAAANGEKwAAANGEKwAAANGEKwAAANGEKwAAANGEKwAAANGEKwAAANGEKwAAANGEKwAAANGEKwAAANGEKwAAANGEKwAAANGEKwAAANGEKwAAANGEKwAAAMFK+T/THBiEOehKYgAAAABJRU5ErkJggg=="></p><p><strong>Beachte</strong>:</p><ul><li>Durch <code>clickable=True</code> wird das Rechteck zu einem Klickbaren Knopf.</li></ul><p><strong>Aufgabe</strong>:</p><ul><li>Füge auch eine <code>Rechts</code>-Taste mit dem Symbol <code>⇨</code> hinzu.</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly py"><pre tabindex="0" class="prism-code language-py codeBlock_23N8 thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#000000"><span class="token plain">device</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">add_square</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token builtin" style="color:rgb(0, 112, 193)">id</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;left&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    pos_x</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token operator" style="color:rgb(0, 0, 0)">-</span><span class="token number" style="color:rgb(9, 134, 88)">45</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    pos_y</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">5</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    text</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;⇦&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    font_color</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;white&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    border_color</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;white&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    size</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    clickable</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token boolean">True</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><div role="tabpanel"><p>Sobald die Taste geklickt wurde, wird eine Nachricht an das Programm geschickt. Diese <code>ObjectClickedMsg</code> Nachricht kann an eine von uns definierte Funktion weitergeleitet werden, indem die Funktion mit <code>device.on(&#x27;object_clicked&#x27;, &lt;funktions-name&gt;)</code> registriert wird (natürlich muss <code>&lt;funktions-name&gt;</code> mit dem wirklichen Funktionsnamen ersetzt werden, unten also <code>on_button</code>).</p><p><strong>Bemerke</strong>:</p><ul><li><code>on_button</code> verwendet wiederum die Vairable <code>player_pos_x</code> um die Spieler-Position zu aktualisieren. Dazu ist wieder die Markierung <code>global</code> nötig!</li><li>Falls die <code>id</code> des geklickten Objekts nicht <code>left</code> ist, wird der <code>else</code> Codeblock ausgeführt - die Funktion wird aus der Funktion gesprungen, ohne <code>update_rectangle</code> aufzurufen.</li></ul><p><strong>Aufgabe</strong>:</p><ul><li>Probiere aus, ob mit der Taste nach links gesteuert werden kann.</li><li>Füge die Logik hinzu, um den Spieler auch nach rechts zu bewegen.</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly py"><pre tabindex="0" class="prism-code language-py codeBlock_23N8 thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">on_button</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">data</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> ObjectClickedMsg</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">global</span><span class="token plain"> player_pos_x</span></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">if</span><span class="token plain"> data</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token builtin" style="color:rgb(0, 112, 193)">id</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">==</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;left&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">        player_pos_x </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> player_pos_x </span><span class="token operator" style="color:rgb(0, 0, 0)">-</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">5</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">else</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">return</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#000000"><span class="token plain">    device</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">update_rectangle</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token builtin" style="color:rgb(0, 112, 193)">id</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;player&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">        pos_x</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">player_pos_x</span></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#000000"><span class="token plain">device</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">on</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;object_clicked&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> on_button</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div></div></div><hr><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="7-bilder"></a>7. Bilder<a class="hash-link" href="#7-bilder" title="Direct link to heading">#</a></h2><p><img src="/assets/images/game_with_images-5b88470d834b99c78d0a28d75ee72302.gif"></p><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Schritt 0</li><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">Schritt 1</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Schritt 2</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Schritt 3</li></ul><div class="margin-vert--md"><div role="tabpanel" hidden=""><p>Damit Bilder als Hintergrund des Playgrounds oder von Objekten verwendet werden können, müssen diese zuerst an die Website übertragen werden. Dazu muss ein neuer Ordner für alle Bilder erstellt werden. Der Name dieses Ordners muss dann beim Konfigurieren des Playgrounds angegeben werden.</p><p>Die Projektstruktur sollte in VS Code also etwa so aussehen:</p><p><a target="_blank" href="/assets/files/images_structure-c87a71bbaa4d9ca624b3a58130fc8ac0.png"></a></p><p><strong>Achtung</strong>: Der Befehl <code>device.configure_playground</code> sollte im gesamten Programm nur einmal aufgerufen werden. Passe also den vorhanden Befehl an.</p><p><strong>Bemerke</strong>:</p><ul><li>Mit <code>images=</code> (Mehrzahl) wird der Name des Bilder-Ordners angegeben.</li><li>Mit <code>image=</code> (Einzahl) wird der Name des Bildes (ohne Dateteiendung!) angegeben, welches als Hintergrund für den Playground verwendet werden soll.</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly py"><pre tabindex="0" class="prism-code language-py codeBlock_23N8 thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#000000"><span class="token plain">device</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">configure_playground</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    width</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">100</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    height</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">180</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    origin_x</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">50</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    origin_y</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    color</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">Colors</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">BLACK</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    images</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;Bilder&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    image</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;Hintergrund&#x27;</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><div role="tabpanel"><p>Alle Bilder im Ordner <code>Bilder</code> können nun für Objekte auf dem Playground verwendet werden, indem beim Erstellen die Option <code>image=</code> mitgegeben wird. Im Beispiel wird nun über dem weissen Balken das Bild <code>Spieler</code> angezeigt.</p><p><strong>Beachte</strong>:</p><ul><li>Das Bild muss ggf. auf dem Laptop so zugeschnitten werden, dass die Höhe und die Breite des Bildes gerade mit den Dimensionen des Rechtecks/Kreises übereinstimmen.</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly py"><pre tabindex="0" class="prism-code language-py codeBlock_23N8 thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#000000"><span class="token plain">device</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">add_rectangle</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token builtin" style="color:rgb(0, 112, 193)">id</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;player&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    pos_x</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    pos_y</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    width</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    height</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    image</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;Spieler&#x27;</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><p>Die Bilder eines Objekts können auch aktualisiert werden, indem bei <code>update_rectangle</code>, <code>update_circle</code>, <code>update_square</code> oder allgemein bei <code>update_object</code> ein neues Bild mit <code>image=</code> spezifiziert wird. Natürlich müssen alle referenzierten Bilder im Ordner <code>Bilder</code> abgelegt sein.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly py"><pre tabindex="0" class="prism-code language-py codeBlock_23N8 thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#000000"><span class="token plain">device</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">update_rectangle</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token builtin" style="color:rgb(0, 112, 193)">id</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;player&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    image</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;Rennen&#x27;</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><p>Damit wirklich nur das Bild-Objekt (und nicht der Hintergrund des Bildes) angezeigt wird, sollten Bilder mit möglichst gleichmässigem Hintergrund gewählt werden - denn dann kann der Hintergrund weggeschnitten werden. Eine Anleitung, wie man das machen kann, findet sich hier:</p><ul><li>Windows: <a href="https://www.laptopmag.com/articles/remove-background-paint-3d" target="_blank" rel="noopener noreferrer">Paint 3D</a></li><li>Mac OS X: <a href="https://support.apple.com/guide/preview/extract-an-image-or-remove-a-background-prvw15636/mac" target="_blank" rel="noopener noreferrer">Image Preview</a></li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly py"><pre tabindex="0" class="prism-code language-py codeBlock_23N8 thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div></div></div><hr><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="8-springen"></a>8. Springen<a class="hash-link" href="#8-springen" title="Direct link to heading">#</a></h2><a href="https://jupyter.gbsl.website" target="_blank" rel="noopener noreferrer" class="theorie">kapitel 7.14</a><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Schritt 0</li><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">Schritt 1</li></ul><div class="margin-vert--md"><div role="tabpanel" hidden=""><p>Um mit einer Spielfigur animiert an eine neue Position zu verschieben, kann die Funktion <code>move_to</code> verwendet werden. Diese Funktion kann mit der <code>via</code> Option gekoppelt werden, so dass bspw. auch Sprungeffekte erzeugt werden können.</p><p><strong>Achtung</strong>: Diese Option ist nur dann geeignet, wenn während der Animation bzw. während des Sprungs keine andere Positionsaktualisierung vorgenommen wird. Für den Spieler (<code>id = player</code>) ist dies also <em>nicht</em> geeignet. Schaue dazu die zweite Option auf der nächsten Seite.</p><p><strong>Bemerke</strong>:</p><ul><li><code>pos=</code> gibt die Endposition an</li><li><code>via=</code> gibt eine Zwischenposition an, via welcher dann zur Endposition gefahren wird.</li><li><code>time=</code> gibt die Zeit in Sekunden an, bis die Endposition erreicht wird. Alternativ kann auch mit <code>speed=</code> die Geschwindigkeit angegeben werden, mit welcher die Strecke zurückgelegt wird.</li></ul><p>Im Beispiel ist die aktuelle Position mit der End-Position identisch. Durch das <code>via</code> entsteht aber eine Art &quot;Sprung&quot;-Effekt, da zuerst die <code>via</code>-Position erreicht wird.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly py"><pre tabindex="0" class="prism-code language-py codeBlock_23N8 thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#000000"><span class="token plain">device</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">move_to</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token builtin" style="color:rgb(0, 112, 193)">id</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;player&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    pos</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">player_pos_x</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    via</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">player_pos_x</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">50</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    time</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><div role="tabpanel"><p>Um eine Positionsunabhängige Animation zu starten, braucht es</p><ul><li>eine Richtung <code>direction=</code></li><li>eine Geschwindigkeit <code>speed=</code></li><li>eine Distanz <code>distance=</code> ODER eine Zeitspanne in welcher sich vorwärtsbewegt wird <code>time_span=</code></li></ul><p>Solche Bewegungen lassen sich koppeln - dazu ist eine neue Schreibweise nötig mit dem Schlüsselwort <code>with</code> nötig. Im Beispiel unten wird ein Sprung gemacht, wobei zuerst <code>10</code> Einheiten nach oben gefahren wird (erstes <code>movement</code>) und dann wieder <code>10</code> Einheiten nach unten (zweites <code>movement</code>).</p><p>Weitere Möglichkeiten sind auf Jupyterhub erklärt:</p><a href="https://jupyter.gbsl.website" target="_blank" rel="noopener noreferrer" class="theorie">Kapitel 7.14.1&amp;2</a><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly py"><pre tabindex="0" class="prism-code language-py codeBlock_23N8 thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">with</span><span class="token plain"> device</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">apply_movements</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token builtin" style="color:rgb(0, 112, 193)">id</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;player&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">as</span><span class="token plain"> movement</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    movement</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">direction</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> speed</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> distance</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    movement</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">direction</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">-</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> speed</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> distance</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div></div></div><hr><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="9-sound"></a>9. Sound<a class="hash-link" href="#9-sound" title="Direct link to heading">#</a></h2><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Schritt 0</li><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">Schritt 1</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Schritt 2</li></ul><div class="margin-vert--md"><div role="tabpanel" hidden=""><p>Genau so wie bei den Bildern müssen auch wieder zuerst die Soundtracks (<code>.mp3</code> Dateien) an die Website geschickt werden. Lade dazu passende Soundtracks herunter (<strong>Achtung</strong>! Beachte die Lizenzen, nicht alle Lieder &amp; Effekte dürfen heruntergladen werden) und verschiebe Sie in einen Ordner &quot;Sound&quot; in deinem Game-Projekt Ordner.</p><p>Viele verschiedene Sound-Tracks können zum Beispiel unter <a href="https://www.zapsplat.com/sound-effect-category/game-sounds/" target="_blank" rel="noopener noreferrer">https://www.zapsplat.com</a> kostenlos heruntergalden werden.</p><p>Mögliche Sounds mit direktem Download-Link finden sich hier:</p><p>Die Projektstruktur sollte in VS Code also etwa so aussehen:</p><p><a target="_blank" href="/assets/files/sound_structure-758beb3f01b5674c9b125f212418310e.png"></a></p><p><strong>Achtung</strong>: Der Befehl <code>device.configure_playground</code> sollte im gesamten Programm nur einmal aufgerufen werden. Passe also den vorhanden Befehl an.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly py"><pre tabindex="0" class="prism-code language-py codeBlock_23N8 thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#000000"><span class="token plain">device</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">configure_playground</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    audio_tracks</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;Sound&#x27;</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><div role="tabpanel"><p>Mit <code>device.play</code> kann ein Sound abgespielt werden, optional kann auch noch die Lautstärke festgelegt werden:</p><ul><li><code>volume=0</code> -&gt; lautlos</li><li><code>volume=0.5</code> -&gt; halbe Laustärke</li><li><code>volume=1</code> -&gt; volle Lautstärke</li></ul><p>Zudem kann mit <code>device.stop_sound</code> ein abgespielter Sound gestoppt werden.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly py"><pre tabindex="0" class="prism-code language-py codeBlock_23N8 thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#000000"><span class="token plain">device</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">play_sound</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;playback&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> volume</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">0.5</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)"># später...</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#000000"><span class="token plain">device</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">stop_sound</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;playback&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><p>Beispiel: Jedes mal wenn ein Stern gefangen wird, soll der Sound <code>catch</code> abgespielt werden. Ein Sound kann also auch mehrfach abgespielt werden.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly py"><pre tabindex="0" class="prism-code language-py codeBlock_23N8 thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">on_collision</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">data</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> SpriteCollisionMsg</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">global</span><span class="token plain"> score</span></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">if</span><span class="token plain"> data</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">overlap </span><span class="token operator" style="color:rgb(0, 0, 0)">==</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;in&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token builtin" style="color:rgb(0, 112, 193)">object</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> data</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">if</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(0, 112, 193)">object</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token builtin" style="color:rgb(0, 112, 193)">id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">startswith</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;star&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">            device</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">play_sound</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;catch&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div></div></div><hr><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="10-levels-"></a>10. Levels *<a class="hash-link" href="#10-levels-" title="Direct link to heading">#</a></h2><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Schritt 0</li><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">Schritt 1</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Schritt 2</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Schritt 3</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Schritt 4</li></ul><div class="margin-vert--md"><div role="tabpanel" hidden=""><p>Wie beim Highscore wird zu Beginn ein neues Textfeld für das Level hinzugefügt. Bereits jetzt vergeben wir eine <code>id</code>, damit der Text später aktualisiert werden kann.</p><p><strong>Aufgabe</strong>: Überprüfe ob das Level angezeigt wird.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly py"><pre tabindex="0" class="prism-code language-py codeBlock_23N8 thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#000000"><span class="token plain">device</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">add_text</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token builtin" style="color:rgb(0, 112, 193)">id</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;level&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    pos_x</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token operator" style="color:rgb(0, 0, 0)">-</span><span class="token number" style="color:rgb(9, 134, 88)">40</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    pos_y</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">170</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    font_color</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;white&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    font_size</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    text</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;Level: 1&#x27;</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><div role="tabpanel"><p>Wo liegen die Unterschiede zwischen den einzelnen Spiel-Levels? In diesem Game ändern sich:</p><ul><li>die Frequenz des Stern-Regens</li><li>die Geschwindigkeit der Sterne</li></ul><p>Da im voraus nicht klar ist, wann das Level 2 beginnt, wird das Aufsetzen der Levels innerhalb einer Funktion vorbereitet, welche dann zum gegebenen Zeitpunkt aufgerufen werden kann.</p><p><strong>Beachte</strong>:</p><ul><li>Mit <code>device.cancel_async_subscriptions()</code> werden alle aktuell geplanten Ausführungen (alle Funktionen die mit <code>device.subscribe_async()</code> zugewiesen wurden) gestoppt. Deshalb müssen danach <code>device.subscribe_async</code> im Programm wieder aufgebaut werden.</li><li>Die Variable <code>speed</code> wird nun beim Hinzufügen eines Sterns verwendet.</li></ul><p><strong>Aufgaben</strong>:</p><ul><li>Suche im Programm nach allen Zeilen mit <code>device.subscribe_async</code> und verschiebe in die <code>level</code> Funktionen.</li><li>Ändere deine Funktion <code>add_star()</code></li><li>Rufe am Ende des Programms (aber noch vor der Zeile <code>device.wait()</code>!!) <code>level_1()</code> auf, um das erste Level zu konfigurieren.</li><li><strong>Überprüfe</strong> ob das Spiel noch funktioniert (auch wenn die Levels noch nicht funktionieren).</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly py"><pre tabindex="0" class="prism-code language-py codeBlock_23N8 thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#000000"><span class="token plain">speed </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">4</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">level_1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">global</span><span class="token plain"> speed</span></span><span class="token-line" style="color:#000000"><span class="token plain">    speed </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">4</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    device</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">cancel_async_subscriptions</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    device</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">subscribe_async</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">add_star</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    device</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">subscribe_async</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">add_monster</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">5</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    device</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">subscribe_async</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">on_update</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">0.05</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">level_2</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">global</span><span class="token plain"> speed</span></span><span class="token-line" style="color:#000000"><span class="token plain">    speed </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">8</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    device</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">cancel_async_subscriptions</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    device</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">subscribe_async</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">add_star</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    device</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">subscribe_async</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">add_monster</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">5</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    device</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">subscribe_async</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">on_update</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">0.05</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">add_star</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    device</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">add_circle</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token builtin" style="color:rgb(0, 112, 193)">id</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">next_id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;star&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">        speed</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">speed</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">  </span><span class="token comment" style="color:rgb(0, 128, 0)"># alle anderen Optionen bleiben gleich...</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><p>Aktuell wird das Level noch nicht aktualisiert. Wann kann der Level-Zustand ändern? Grundsätzlich immer wenn sich der Score ändert!</p><p>Wir könnten nun also an jeder Stelle, wo der Score ändert, überprüfen, ob ein neues Level erreicht wurde oder nicht. Dann müssten wir an vielen Stellen viel Code hinzufügen. Das wird <strong>unübersichtlich</strong> und <strong>fehleranfällig</strong>. Deshalb schreiben wir das Programm so um, dass der Score nur noch an einer Stelle im Programm geändert wird - in einer Funktion <code>set_score(new_score)</code></p><p><strong>Bemerke</strong>:</p><ul><li>Die Änderung wird auch direkt auf dem Smartphone/Device aktualisiert (<code>update_text</code>).</li><li>Bspw. bei <code>on_collision</code> wird <code>score</code> nicht mehr direkt verändert, weshalb das <code>global score</code>, die Änderung am Score und auch das Updaten des Scores gelöscht werden können.</li></ul><p><strong>Aufgabe</strong>:</p><ul><li>Suche alle Orte, an welchen der Score aktualisiert wird, und verwende direkt die <code>set_score</code> Funktion</li><li>Lösche alle <code>device.update_text</code> Passagen, welche zum Score gehören.</li><li><strong>Stelle sicher dass dein Programm immer noch funktioniert.</strong></li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly py"><pre tabindex="0" class="prism-code language-py codeBlock_23N8 thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">set_score</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">new_score</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">global</span><span class="token plain"> score</span></span><span class="token-line" style="color:#000000"><span class="token plain">    score </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> new_score</span></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#000000"><span class="token plain">    device</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">update_text</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token builtin" style="color:rgb(0, 112, 193)">id</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;score&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">        text</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)">f&#x27;Score: </span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token string-interpolation interpolation">score</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)">&#x27;</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">on_collision</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">data</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> SpriteCollisionMsg</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    g̶̶l̶̶o̶̶b̶̶a̶̶l̶̶ ̶̶s̶̶c̶̶o̶̶r̶̶e̶</span></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">if</span><span class="token plain"> data</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">overlap </span><span class="token operator" style="color:rgb(0, 0, 0)">==</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;in&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">        set_score</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">score </span><span class="token operator" style="color:rgb(0, 0, 0)">+</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">        s̶̶c̶̶o̶̶r̶̶e̶̶ ̶</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">̶ ̶̶s̶̶c̶̶o̶̶r̶̶e̶̶ ̶</span><span class="token operator" style="color:rgb(0, 0, 0)">+</span><span class="token plain">̶ ̶̶</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain">̶</span></span><span class="token-line" style="color:#000000"><span class="token plain">    ̶d̶̶e̶̶v̶̶i̶̶c̶̶e̶̶</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">̶̶u̶̶p̶̶d̶̶a̶̶t̶̶e̶̶_̶̶t̶̶e̶̶x̶̶t̶</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">̶</span></span><span class="token-line" style="color:#000000"><span class="token plain">     ̶̶ ̶̶ ̶̶ ̶̶ ̶̶ ̶̶ ̶̶ ̶̶ ̶̶ ̶̶ ̶̶ ̶̶i̶̶d̶</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;̶s̶̶c̶̶o̶̶r̶̶e̶&#x27;</span><span class="token plain">̶</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> ̶</span></span><span class="token-line" style="color:#000000"><span class="token plain">     ̶̶ ̶̶ ̶̶ ̶̶ ̶̶ ̶̶ ̶̶ ̶̶ ̶̶ ̶̶ ̶̶t̶̶e̶̶x̶̶t̶</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">̶f̶</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;̶s̶̶c̶̶o̶̶r̶̶e̶̶:̶̶ ̶{̶s̶̶c̶̶o̶̶r̶̶e̶}&#x27;</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">̶ ̶</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><p>Aktuell wird bei jedem Aufruf von <code>set_score</code> ein Level konfiguriert. Das ist aber gar nicht nötig, sondern soll nur dann gemacht werden, wenn das aktuelle Level nicht schon dem neuen Level entspricht. Um das zu überprüfen, ist eine weitere Variable <code>level</code> nötig, welche das aktuelle Level enthält.</p><p><strong>Aufgabe</strong></p><ul><li>Überprüfe ob die Levels funktionieren</li><li>Aktuell wird der Text des Levels noch nicht aktualisiert. Schaue bei <code>set_score</code> wie der Score Wert aktualisiert wird, und verwende dasselbe Prinzip bei <code>level_1</code> und <code>level_2</code>.</li><li>(<em>Optional</em>: schreibe eine Funktion <code>set_level(new_level)</code> welche das <code>new_level</code> in der Variable <code>level</code> speichert und den Text auf dem Smartphone/Device aktualisiert.)</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly py"><pre tabindex="0" class="prism-code language-py codeBlock_23N8 thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#000000"><span class="token plain">speed </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">4</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">level </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">level_1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">global</span><span class="token plain"> speed</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> level</span></span><span class="token-line" style="color:#000000"><span class="token plain">    level </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">level_2</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">global</span><span class="token plain"> speed</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> level</span></span><span class="token-line" style="color:#000000"><span class="token plain">    level </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">set_score</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">new_score</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">global</span><span class="token plain"> score</span></span><span class="token-line" style="color:#000000"><span class="token plain">    score </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> new_score</span></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">if</span><span class="token plain"> score </span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">and</span><span class="token plain"> level </span><span class="token operator" style="color:rgb(0, 0, 0)">!=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">        level_1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">elif</span><span class="token plain"> score </span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">and</span><span class="token plain"> level </span><span class="token operator" style="color:rgb(0, 0, 0)">!=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">        level_2</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#000000"><span class="token plain">    device</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">update_text</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token builtin" style="color:rgb(0, 112, 193)">id</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;score&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">        text</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)">f&#x27;Score: </span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token string-interpolation interpolation">score</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)">&#x27;</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><p>Nun kann ganz einfach in der Funktion <code>set_score</code> überprüft werden, ob ein neues Level geladen werden soll oder nicht.</p><p>Kannst du ein Problem beim untenstehenden Code vermuten?</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly py"><pre tabindex="0" class="prism-code language-py codeBlock_23N8 thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">set_score</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">new_score</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">global</span><span class="token plain"> score</span></span><span class="token-line" style="color:#000000"><span class="token plain">    score </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> new_score</span></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">if</span><span class="token plain"> score </span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">        level_1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">elif</span><span class="token plain"> score </span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">        level_2</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#000000"><span class="token plain">    device</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">update_text</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token builtin" style="color:rgb(0, 112, 193)">id</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;score&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">        text</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)">f&#x27;Score: </span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token string-interpolation interpolation">score</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)">&#x27;</span><span class="token plain"></span></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/lebalz/ofi-blog/edit/main/versioned_docs/version-24i/04-Programmieren-1/Aufgaben/13_game_basics.mdx" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_13-_"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/24i/Programmieren-1/Aufgaben/uhren"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« Uhren</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/24i/Programmieren-1/Aufgaben/game_runner"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Game-Runner »</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#0-vorbereitung-" class="table-of-contents__link">0. Vorbereitung *</a></li><li><a href="#1-spieler-" class="table-of-contents__link">1. Spieler *</a></li><li><a href="#2-sterne-" class="table-of-contents__link">2. Sterne *</a></li><li><a href="#3-controller-" class="table-of-contents__link">3. Controller *</a></li><li><a href="#4-highscore-" class="table-of-contents__link">4. Highscore *</a><ul><li><a href="#41-stern-berührt-den-boden-" class="table-of-contents__link">4.1 Stern berührt den Boden *</a></li><li><a href="#42-zufällige-stern-symbole" class="table-of-contents__link">4.2 Zufällige Stern-Symbole</a></li></ul></li><li><a href="#5-monster-" class="table-of-contents__link">5. Monster *</a></li><li><a href="#6-tastensteuerung-" class="table-of-contents__link">6. Tastensteuerung *</a><ul><li><a href="#61-tastensteuerung-über-knöpfe" class="table-of-contents__link">6.1 Tastensteuerung über Knöpfe</a></li></ul></li><li><a href="#7-bilder" class="table-of-contents__link">7. Bilder</a></li><li><a href="#8-springen" class="table-of-contents__link">8. Springen</a></li><li><a href="#9-sound" class="table-of-contents__link">9. Sound</a></li><li><a href="#10-levels-" class="table-of-contents__link">10. Levels *</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Tools</div><ul class="footer__items"><li class="footer__item"><a href="https://code.visualstudio.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">VS Code</a></li><li class="footer__item"><a href="https://www.python.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Python</a></li></ul></div><div class="col footer__col"><div class="footer__title">Links</div><ul class="footer__items"><li class="footer__item"><a href="https://jupyter.gbsl.website" target="_blank" rel="noopener noreferrer" class="footer__link-item">Jupyterhub</a></li><li class="footer__item"><a href="https://learningview.org/loginWithMicrosoft.php" target="_blank" rel="noopener noreferrer" class="footer__link-item">Learningview</a></li></ul></div><div class="col footer__col"><div class="footer__title">Gymnasium</div><ul class="footer__items"><li class="footer__item"><a href="https://password.edubern.ch/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Passwort Zurücksetzen</a></li><li class="footer__item"><a href="https://office.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Office 365</a></li><li class="footer__item"><a href="https://gbsl.website" target="_blank" rel="noopener noreferrer" class="footer__link-item">GBSL</a></li><li class="footer__item"><a href="https://erzbe.sharepoint.com/sites/GYMB/gbs" target="_blank" rel="noopener noreferrer" class="footer__link-item">Intranet</a></li><li class="footer__item"><a href="https://mese.webuntis.com/WebUntis/?school=gym_Biel-Bienne#/basic/main" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stundenplan</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright"><a class="footer__link-item" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.de"><img src="/img/by-nc-sa.eu.svg" alt="CC-BY-NC-SA"> Text und Bilder von Balthasar Hofer, Ausnahmen sind gekennzeichnet.</a></div></div></div></footer></div>
<script src="/assets/js/runtime~main.5febb047.js"></script>
<script src="/assets/js/main.2b8b88fd.js"></script>
</body>
</html>